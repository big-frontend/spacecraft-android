//gradle.beforeSettings {
//    println("ðŸ‘¶[ gradle å¼€å§‹ ] buildStarted å¼€å§‹ä¹‹å‰ start")
//    println("ðŸ‘¶[ gradle å¼€å§‹ ] buildStarted å¼€å§‹ä¹‹å‰ end")
//}
//gradle.settingsEvaluated { g ->
//    println("ðŸ‘©â€ðŸŽ“ðŸ‘¨â€ðŸŽ“[ initialzation ] settingsEvaluated setting.gradleè„šæœ¬åˆå§‹åŒ–å®Œæˆ start")
//    println("ðŸ‘©â€ðŸŽ“ðŸ‘¨â€ðŸŽ“[ initialzation ] settingsEvaluated setting.gradleè„šæœ¬åˆå§‹åŒ–å®Œæˆ end")
//}
////projectåˆå§‹åŒ–å®Œæˆçš„å›žè°ƒ
//gradle.projectsLoaded {
//    println("ðŸ‘©â€ðŸŽ“ðŸ‘¨â€ðŸŽ“[ initialzation ] projectsLoaded projectåˆå§‹åŒ–å®Œæˆ start")
//    println("ðŸ‘©â€ðŸŽ“ðŸ‘¨â€ðŸŽ“[ initialzation ] projectsLoaded projectåˆå§‹åŒ–å®Œæˆ end")
//}
//
//project.afterEvaluate {}
//gradle.beforeProject {
//    println("ðŸ‘°ðŸ¤µ[ configuration ] beforeProject æŸä¸ªbuild.gradleæ‰§è¡Œä¹‹å‰ start")
//    println("ðŸ‘°ðŸ¤µ[ configuration ] beforeProject æŸä¸ªbuild.gradleæ‰§è¡Œä¹‹å‰ end")
//}
//project.afterEvaluate {}
//gradle.afterProject {
//    println("ðŸ‘°ðŸ¤µ[ configuration ] afterProject æŸä¸ªbuild.gradleæ‰§è¡Œä¹‹åŽ start")
//    println("ðŸ‘°ðŸ¤µ[ configuration ] afterProject æŸä¸ªbuild.gradleæ‰§è¡Œä¹‹åŽ end")
//}
//gradle.projectsEvaluated {
//    println("ðŸ‘°ðŸ¤µ[ configuration ] projectsEvaluated æ‰€æœ‰build.gradleæ‰§è¡Œå®Œæ¯• start")
//    println("ðŸ‘°ðŸ¤µ[ configuration ] projectsEvaluated æ‰€æœ‰build.gradleæ‰§è¡Œå®Œæ¯• end")
//}
//gradle.taskGraph.whenReady { taskGraph ->
//    println("ðŸ‘°ðŸ¤µ[ configuration ] whenReady taskå…³ç³»å›¾å»ºç«‹å®Œæ¯• start")
//    println("ðŸ‘°ðŸ¤µ[ configuration ] whenReady taskå…³ç³»å›¾å»ºç«‹å®Œæ¯• end")
//}
//
//gradle.taskGraph.beforeTask {theTask->
//    println("ðŸƒðŸ‘©â€ðŸ’¼ðŸ‘¨â€ðŸ’»[ run ${theTask.name}] beforeTask taskå…³ç³»å›¾æ‰§è¡Œä¹‹å‰ start")
//    println("ðŸƒðŸ‘©â€ðŸ’¼ðŸ‘¨â€ðŸ’»[ run ${theTask.name}] beforeTask taskå…³ç³»å›¾æ‰§è¡Œä¹‹å‰ end")
//}
//gradle.taskGraph.afterTask { theTask->
//    println("ðŸƒðŸ‘©â€ðŸ’¼ðŸ‘¨â€ðŸ’»[ run ${theTask.name}] afterTask taskå…³ç³»å›¾æ‰§è¡Œä¹‹åŽ start")
//    println("ðŸƒðŸ‘©â€ðŸ’¼ðŸ‘¨â€ðŸ’»[ run ${theTask.name}] afterTask taskå…³ç³»å›¾æ‰§è¡Œä¹‹åŽ end")
//}
//gradle.buildFinished {
//    println("ðŸ‘µðŸ‘´[ gradle ç»“æŸ ] buildFinished  start")
//    println("ðŸ‘µðŸ‘´[ gradle ç»“æŸ ] buildFinished  end")
//}
def start = System.currentTimeMillis()
gradle.addBuildListener(new BuildListener() {
    @Override
    void beforeSettings(Settings settings) {

    }
    @Override
    void settingsEvaluated(Settings settings) {
        printError(">>>> evaluate settingè„šæœ¬è€—æ—¶:" + (System.currentTimeMillis() - start)+"ms")
        start = System.currentTimeMillis()
    }

    @Override
    void projectsLoaded(Gradle gradle) {
        printError(">>>> includeå®Œæ‰€æœ‰project è€—æ—¶:" + (System.currentTimeMillis() - start)+"ms")
        start = System.currentTimeMillis()
    }

    @Override
    void projectsEvaluated(Gradle gradle) {
        printError(">>>> evaluateæ‰€æœ‰projectè„šæœ¬ è€—æ—¶:" + (System.currentTimeMillis() - start)+"ms")
        start = System.currentTimeMillis()
    }

    @Override
    void buildFinished(BuildResult buildResult) {
        printError(">>>> gradle ç»“æŸ buildFinished")
    }


})
gradle.addProjectEvaluationListener(new ProjectEvaluationListener() {
    def projStart = 0
    @Override
    void beforeEvaluate(Project project) {
//        if (!project.subprojects.isEmpty()) return
        projStart = System.currentTimeMillis()
    }

    @Override
    void afterEvaluate(Project project, ProjectState state) {
//        if (!project.subprojects.isEmpty()) return
        printError(">>>>evaluate ${project.getDisplayName()}é¡¹ç›® è€—æ—¶:" + (System.currentTimeMillis() - projStart)+"ms")
    }
})
interface Color {
    public static final String ANSI_RESET = "\u001B[0m"
    public static final String  ANSI_BLACK = "\u001B[30m"
    public static final String  ANSI_RED = "\u001B[31m"
    public static final String  ANSI_GREEN = "\u001B[32m"
    public static final String  ANSI_YELLOW = "\u001B[33m"
    public static final String  ANSI_BLUE = "\u001B[34m"
    public static final String  ANSI_PURPLE = "\u001B[35m"
    public static final String  ANSI_CYAN = "\u001B[36m"
    public static final String  ANSI_WHITE = "\u001B[37m"

    public static final String  ANSI_BLACK_BACKGROUND = "\u001B[40m"
    public static final String  ANSI_RED_BACKGROUND = "\u001B[41m"
    public static final String  ANSI_GREEN_BACKGROUND = "\u001B[42m"
    public static final String  ANSI_YELLOW_BACKGROUND = "\u001B[43m"
    public static final String  ANSI_BLUE_BACKGROUND = "\u001B[44m"
    public static final String  ANSI_PURPLE_BACKGROUND = "\u001B[45m"
    public static final String  ANSI_CYAN_BACKGROUND = "\u001B[46m"
    public static final String  ANSI_WHITE_BACKGROUND = "\u001B[47m"
}
def printError(Object message) {
    println("${Color.ANSI_RED}${message}${Color.ANSI_RESET}")
}

def printWarn(Object message) {
    println("${Color.ANSI_YELLOW}$message${Color.ANSI_RESET}")
}

def printInfo(Object message) {
    println("${Color.ANSI_GREEN}$message${Color.ANSI_RESET}")
}

def printDebug(Object message) {
    println("${Color.ANSI_BLUE}$message${Color.ANSI_RESET}")
}

def printVerbose(Object message) {
    println(message)
}